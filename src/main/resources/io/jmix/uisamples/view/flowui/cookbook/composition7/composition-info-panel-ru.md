Этот пример демонстрирует, как информировать пользователей об изменениях во всей композиции, включая вложенные диалоговые окна.

Композиция состоит из сущностей `Order` и `OrderItem`. Когда вы открываете заказ для редактирования, вы видите сообщение **Данные не изменены** в верхней части экрана деталей заказа. Сообщение изменится на **Есть несохраненные изменения!**, если вы измените какие-либо поля в этом экране, а также если вы создадите или удалите элемент заказа или отредактируете элемент заказа в его экране деталей.

Детали реализации:

- [Order.java]({currentPath}?tab=Order.java)
  - Атрибут `Order.items` аннотирован с помощью `@Composition`.

- [order-detail-view.xml]({currentPath}?tab=order-detail-view.xml)
  - Элемент `<div id="infoPanel">` определяет начальное состояние информационной панели.

- [OrderDetailView.java]({currentPath}?tab=OrderDetailView.java)
  - Метод `updateInfoPanel()` обновляет информационную панель при обнаружении изменений.
  - Слушатель события `onChange()` вызывает `updateInfoPanel()`, когда `DataContext` этого экрана обнаруживает изменения в своих сущностях. Это происходит, например, когда пользователь изменяет атрибут `date` или коллекцию `items`. Однако этот слушатель не реагирует на изменения, сделанные в отдельном экране `OrderItemDetailView`. Поэтому `updateInfoPanel()` также должен вызываться из самого `OrderItemDetailView`.
  - Обработчик `itemsDataGridEditActionViewConfigurer()` передает ссылку на `updateInfoPanel()` в `OrderItemDetailView`.

- [OrderItemDetailView.java]({currentPath}?tab=OrderItemDetailView.java)
  - Слушатель события `onPostSave()` вызывает `updateInfoPanel()` после того, как пользователь нажимает **OK** и изменения сохраняются с помощью `DataContext` этого экрана. Мы не можем использовать здесь слушатель события `onChange()`, потому что изменения в этом экране могут быть отменены пользователем.
